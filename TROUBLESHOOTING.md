# üîß –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –Ω–µ–ø–æ–ª–∞–¥–æ–∫ ShiwaDiffPHC

## üö® –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. –û—Ç–∫–∞–∑–∞–Ω–æ –≤ –¥–æ—Å—Ç—É–ø–µ (Permission Denied)

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Error: Root privileges required to access PTP devices
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å –ø—Ä–∏–≤–∏–ª–µ–≥–∏—è–º–∏ sudo
sudo ./shiwadiffphc-cli -d 0 -d 1
sudo ./shiwadiffphc-gui
```

**–ü—Ä–∏—á–∏–Ω–∞:** PTP —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Ç—Ä–µ–±—É—é—Ç –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π root –¥–ª—è –¥–æ—Å—Ç—É–ø–∞.

---

### 2. PTP —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Error: No PTP devices found in the system
```

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ PTP —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
ls /dev/ptp*

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ —è–¥—Ä–∞
lsmod | grep ptp

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É PTP –≤ —è–¥—Ä–µ
grep PTP /boot/config-$(uname -r)
```

**–†–µ—à–µ–Ω–∏—è:**

#### 2.1. –í–∫–ª—é—á–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É PTP –≤ —è–¥—Ä–µ
```bash
# –î–ª—è Ubuntu/Debian
sudo apt-get install linux-headers-$(uname -r)
sudo modprobe ptp

# –î–ª—è RHEL/CentOS
sudo yum install kernel-devel
sudo modprobe ptp
```

#### 2.2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–ø–ø–∞—Ä–∞—Ç—É—Ä—É
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π PTP
ethtool -T eth0  # –∑–∞–º–µ–Ω–∏—Ç–µ eth0 –Ω–∞ –≤–∞—à –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

# –ò—â–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏ —Ç–∏–ø–∞:
# PTP Hardware Clock: 0
# Hardware Transmit Timestamp Modes: off
```

#### 2.3. –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥—Ä–∞–π–≤–µ—Ä—ã
```bash
# –î–ª—è Intel —Å–µ—Ç–µ–≤—ã—Ö –∫–∞—Ä—Ç
sudo modprobe igb
sudo modprobe ixgbe

# –î–ª—è –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π
sudo modprobe e1000e
sudo modprobe r8169
```

---

### 3. –û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

**–°–∏–º–ø—Ç–æ–º—ã:**
```
fatal error: linux/ptp_clock.h: No such file or directory
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã —è–¥—Ä–∞
sudo apt-get install linux-headers-$(uname -r)  # Ubuntu/Debian
sudo yum install kernel-devel                   # RHEL/CentOS
```

---

### 4. Qt5 –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (–¥–ª—è GUI)

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Warning: Qt5 development libraries not found. GUI will not be built.
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# Ubuntu/Debian
sudo apt-get install qtbase5-dev qt5-qmake

# RHEL/CentOS
sudo yum install qt5-qtbase-devel

# Fedora
sudo dnf install qt5-qtbase-devel
```

---

### 5. GUI –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- GUI –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ —Å—Ä–∞–∑—É –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- –û—à–∏–±–∫–∏ X11/Wayland

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é DISPLAY
echo $DISPLAY

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å X11
xrandr --query

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å –æ—Ç–ª–∞–¥–∫–æ–π
QT_DEBUG_PLUGINS=1 sudo ./shiwadiffphc-gui
```

**–†–µ—à–µ–Ω–∏—è:**

#### 5.1. –ü—Ä–æ–±–ª–µ–º—ã —Å X11
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ X11 —Å–µ—Ä–≤–µ—Ä (–µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)
sudo apt-get install xorg

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
xhost +local:root
```

#### 5.2. –ü—Ä–æ–±–ª–µ–º—ã —Å Wayland
```bash
# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ X11
export GDK_BACKEND=x11
sudo ./shiwadiffphc-gui
```

---

### 6. –û–≥—Ä–æ–º–Ω—ã–µ —á–∏—Å–ª–∞ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

**–°–∏–º–ø—Ç–æ–º—ã:**
```
ptp1    -1757509835416646768    0
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** –≠—Ç–æ **–Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ** –¥–ª—è PTP —É—Å—Ç—Ä–æ–π—Å—Ç–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º.

**–ß—Ç–æ –≤–∞–∂–Ω–æ:**
- **–†–∞–∑–º–∞—Ö (range)** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ä–∞–∑—É–º–Ω—ã—Ö –ø—Ä–µ–¥–µ–ª–∞—Ö)
- **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- **–ú–µ–¥–∏–∞–Ω–∞ –∏ —Å—Ä–µ–¥–Ω–µ–µ** - –ø–æ–º–æ–≥–∞—é—Ç –æ—Ü–µ–Ω–∏—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å

**–ü—Ä–∏–º–µ—Ä –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:**
```
–†–∞–∑–º–∞—Ö: 901950378 –Ω—Å (‚âà 902 –º—Å)
–°—Ç–∞–Ω–¥. –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ: 1944457556237838848.0 –Ω—Å
```

---

### 7. –ù–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è
- –í—ã—Å–æ–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ CPU

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
```bash
# –£–º–µ–Ω—å—à–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–±–æ—Ä–æ–∫
./shiwadiffphc-cli -d 0 -d 1 -s 5

# –£–≤–µ–ª–∏—á—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫—É –º–µ–∂–¥—É –∏–∑–º–µ—Ä–µ–Ω–∏—è–º–∏
./shiwadiffphc-cli -d 0 -d 1 -l 500000

# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—å—à–µ –∏—Ç–µ—Ä–∞—Ü–∏–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
./shiwadiffphc-cli -d 0 -d 1 -c 10
```

---

### 8. –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –ë–æ–ª—å—à–∏–µ —Ä–∞–∑–±—Ä–æ—Å—ã –≤ –∏–∑–º–µ—Ä–µ–Ω–∏—è—Ö

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫—É —Å–µ—Ç–∏
ping -c 10 <ptp_server>

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ PTP —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
pmc -u -b 0 'GET CURRENT_DATA_SET'
```

**–†–µ—à–µ–Ω–∏—è:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—ã–¥–µ–ª–µ–Ω–Ω—É—é —Å–µ—Ç—å –¥–ª—è PTP
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ QoS –¥–ª—è PTP —Ç—Ä–∞—Ñ–∏–∫–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ PTP master/slave

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã
```bash
# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ
uname -a
cat /proc/version

# –ü—Ä–æ–≤–µ—Ä–∫–∞ PTP —É—Å—Ç—Ä–æ–π—Å—Ç–≤
ls -la /dev/ptp*
cat /sys/class/ptp/ptp*/name

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
ip link show
ethtool -i eth0
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ ShiwaDiffPHC
```bash
# –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
sudo ./shiwadiffphc-cli --list

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
sudo ./shiwadiffphc-cli --info

# –¢–µ—Å—Ç–æ–≤–æ–µ –∏–∑–º–µ—Ä–µ–Ω–∏–µ
sudo ./shiwadiffphc-cli -d 0 -d 1 -c 5 --verbose
```

---

## üìû –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

### –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
```bash
# –°–æ–±–µ—Ä–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –æ—Ç—á–µ—Ç–∞ –æ–± –æ—à–∏–±–∫–µ
sudo ./shiwadiffphc-cli --list > system_info.txt
sudo ./shiwadiffphc-cli --info >> system_info.txt
uname -a >> system_info.txt
ls -la /dev/ptp* >> system_info.txt
```

### –°–æ–æ–±—â–µ—Å—Ç–≤–æ
- **GitHub Issues**: [–°–æ–∑–¥–∞—Ç—å issue](https://github.com/SiwaNetwork/ShiwaDiffPHC/issues)
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [README.md](README.md)
- **–ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è**: [ROADMAP.md](ROADMAP.md)

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

- [ ] –ó–∞–ø—É—â–µ–Ω–æ —Å sudo?
- [ ] PTP —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–æ—Å—Ç—É–ø–Ω—ã (`ls /dev/ptp*`)?
- [ ] –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã —è–¥—Ä–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã?
- [ ] Qt5 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ (–¥–ª—è GUI)?
- [ ] X11/Wayland —Ä–∞–±–æ—Ç–∞–µ—Ç?
- [ ] –°–µ—Ç–µ–≤–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç PTP?
- [ ] PTP –¥—Ä–∞–π–≤–µ—Ä—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã?

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: $(date)*
